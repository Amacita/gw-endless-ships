goog.provide('endless_ships.subs');
var G__28050_28226 = new cljs.core.Keyword("endless-ships.subs","loading?","endless-ships.subs/loading?",199675576);
var G__28051_28227 = (function (db){
return new cljs.core.Keyword(null,"loading?","loading?",1905707049).cljs$core$IFn$_invoke$arity$1(db);
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28050_28226,G__28051_28227) : re_frame.core.reg_sub.call(null,G__28050_28226,G__28051_28227));
var G__28057_28228 = new cljs.core.Keyword("endless-ships.subs","loading-failed?","endless-ships.subs/loading-failed?",-1156555139);
var G__28058_28229 = (function (db){
return new cljs.core.Keyword(null,"loading-failed?","loading-failed?",1354782740).cljs$core$IFn$_invoke$arity$1(db);
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28057_28228,G__28058_28229) : re_frame.core.reg_sub.call(null,G__28057_28228,G__28058_28229));
var G__28059_28230 = new cljs.core.Keyword("endless-ships.subs","route","endless-ships.subs/route",1899705456);
var G__28060_28231 = (function (db){
return new cljs.core.Keyword(null,"route","route",329891309).cljs$core$IFn$_invoke$arity$1(db);
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28059_28230,G__28060_28231) : re_frame.core.reg_sub.call(null,G__28059_28230,G__28060_28231));
var G__28062_28232 = new cljs.core.Keyword("endless-ships.subs","ships","endless-ships.subs/ships",-309941571);
var G__28063_28233 = (function (db){
return cljs.core.vals(new cljs.core.Keyword(null,"ships","ships",-875113158).cljs$core$IFn$_invoke$arity$1(db));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28062_28232,G__28063_28233) : re_frame.core.reg_sub.call(null,G__28062_28232,G__28063_28233));
var G__28065_28234 = new cljs.core.Keyword("endless-ships.subs","ships-ordering","endless-ships.subs/ships-ordering",290834139);
var G__28066_28235 = (function (db){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"ships","ships",-875113158),new cljs.core.Keyword(null,"ordering","ordering",1096406705)], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28065_28234,G__28066_28235) : re_frame.core.reg_sub.call(null,G__28065_28234,G__28066_28235));
var G__28067_28236 = new cljs.core.Keyword("endless-ships.subs","ship-filters-collapsed?","endless-ships.subs/ship-filters-collapsed?",1822271358);
var G__28068_28237 = (function (db){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"ships","ships",-875113158),new cljs.core.Keyword(null,"filters-collapsed?","filters-collapsed?",1637206496)], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28067_28236,G__28068_28237) : re_frame.core.reg_sub.call(null,G__28067_28236,G__28068_28237));
var G__28070_28238 = new cljs.core.Keyword("endless-ships.subs","ships-race-filter","endless-ships.subs/ships-race-filter",1205258620);
var G__28071_28239 = (function (db){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"ships","ships",-875113158),new cljs.core.Keyword(null,"race-filter","race-filter",2145011058)], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28070_28238,G__28071_28239) : re_frame.core.reg_sub.call(null,G__28070_28238,G__28071_28239));
var G__28073_28240 = new cljs.core.Keyword("endless-ships.subs","ships-category-filter","endless-ships.subs/ships-category-filter",252855244);
var G__28074_28241 = (function (db){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"ships","ships",-875113158),new cljs.core.Keyword(null,"category-filter","category-filter",52750599)], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28073_28240,G__28074_28241) : re_frame.core.reg_sub.call(null,G__28073_28240,G__28074_28241));
var G__28075_28242 = new cljs.core.Keyword("endless-ships.subs","ships-license-filter","endless-ships.subs/ships-license-filter",1023220639);
var G__28076_28243 = (function (db){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"ships","ships",-875113158),new cljs.core.Keyword(null,"license-filter","license-filter",-250200582)], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28075_28242,G__28076_28243) : re_frame.core.reg_sub.call(null,G__28075_28242,G__28076_28243));
endless_ships.subs.sort_with_settings = (function endless_ships$subs$sort_with_settings(columns,ordering,coll){
var ordering_prop = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(columns,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"column-name","column-name",551523580).cljs$core$IFn$_invoke$arity$1(ordering),new cljs.core.Keyword(null,"value","value",305978217)], null));
return cljs.core.sort.cljs$core$IFn$_invoke$arity$2((((!((new cljs.core.Keyword(null,"column-name","column-name",551523580).cljs$core$IFn$_invoke$arity$1(ordering) == null))))?(function (item1,item2){
var item1_prop = (ordering_prop.cljs$core$IFn$_invoke$arity$1 ? ordering_prop.cljs$core$IFn$_invoke$arity$1(item1) : ordering_prop.call(null,item1));
var item2_prop = (ordering_prop.cljs$core$IFn$_invoke$arity$1 ? ordering_prop.cljs$core$IFn$_invoke$arity$1(item2) : ordering_prop.call(null,item2));
if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"order","order",-1254677256).cljs$core$IFn$_invoke$arity$1(ordering),new cljs.core.Keyword(null,"asc","asc",356854569))){
return cljs.core.compare(item1_prop,item2_prop);
} else {
return cljs.core.compare(item2_prop,item1_prop);
}
}):cljs.core.constantly((0))),coll);
});
var G__28079_28248 = new cljs.core.Keyword("endless-ships.subs","ship-names","endless-ships.subs/ship-names",1482572920);
var G__28080_28249 = (function (){
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (){var G__28082 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","ships","endless-ships.subs/ships",-309941571)], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28082) : re_frame.core.subscribe.call(null,G__28082));
})(),(function (){var G__28083 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","ships-ordering","endless-ships.subs/ships-ordering",290834139)], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28083) : re_frame.core.subscribe.call(null,G__28083));
})(),(function (){var G__28084 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","ships-race-filter","endless-ships.subs/ships-race-filter",1205258620)], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28084) : re_frame.core.subscribe.call(null,G__28084));
})(),(function (){var G__28089 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","ships-category-filter","endless-ships.subs/ships-category-filter",252855244)], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28089) : re_frame.core.subscribe.call(null,G__28089));
})(),(function (){var G__28090 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","ships-license-filter","endless-ships.subs/ships-license-filter",1023220639)], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28090) : re_frame.core.subscribe.call(null,G__28090));
})()], null);
});
var G__28081_28250 = (function (p__28091){
var vec__28092 = p__28091;
var all_ships = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28092,(0),null);
var ordering = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28092,(1),null);
var race_filter = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28092,(2),null);
var category_filter = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28092,(3),null);
var license_filter = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28092,(4),null);
return cljs.core.map.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"name","name",1843675177),endless_ships.subs.sort_with_settings(endless_ships.utils.ships.columns,ordering,cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (ship){
var and__4221__auto__ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(race_filter,new cljs.core.Keyword(null,"race","race",693656872).cljs$core$IFn$_invoke$arity$1(ship));
if(cljs.core.truth_(and__4221__auto__)){
var and__4221__auto____$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(category_filter,new cljs.core.Keyword(null,"category","category",-593092832).cljs$core$IFn$_invoke$arity$1(ship));
if(cljs.core.truth_(and__4221__auto____$1)){
return cljs.core.not_any_QMARK_((function (license){
return cljs.core.not(cljs.core.get.cljs$core$IFn$_invoke$arity$2(license_filter,license));
}),cljs.core.get.cljs$core$IFn$_invoke$arity$3(ship,new cljs.core.Keyword(null,"licenses","licenses",521774891),cljs.core.PersistentVector.EMPTY));
} else {
return and__4221__auto____$1;
}
} else {
return and__4221__auto__;
}
}),all_ships)));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$3 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$3(G__28079_28248,G__28080_28249,G__28081_28250) : re_frame.core.reg_sub.call(null,G__28079_28248,G__28080_28249,G__28081_28250));
var G__28101_28257 = new cljs.core.Keyword("endless-ships.subs","ship","endless-ships.subs/ship",1769681590);
var G__28102_28258 = (function (db,p__28103){
var vec__28104 = p__28103;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28104,(0),null);
var name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28104,(1),null);
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ships","ships",-875113158),endless_ships.views.utils.kebabize(name)], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28101_28257,G__28102_28258) : re_frame.core.reg_sub.call(null,G__28101_28257,G__28102_28258));
var G__28111_28259 = new cljs.core.Keyword("endless-ships.subs","outfits","endless-ships.subs/outfits",351986639);
var G__28112_28260 = (function (db){
return new cljs.core.Keyword(null,"outfits","outfits",-1347752670).cljs$core$IFn$_invoke$arity$1(db);
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28111_28259,G__28112_28260) : re_frame.core.reg_sub.call(null,G__28111_28259,G__28112_28260));
var G__28114_28300 = new cljs.core.Keyword("endless-ships.subs","ship-modifications-names","endless-ships.subs/ship-modifications-names",1716196102);
var G__28115_28301 = (function (db,p__28119){
var vec__28120 = p__28119;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28120,(0),null);
var ship_name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28120,(1),null);
return cljs.core.map.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"modification","modification",614103573),cljs.core.vals(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ship-modifications","ship-modifications",-732656460),ship_name], null))));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28114_28300,G__28115_28301) : re_frame.core.reg_sub.call(null,G__28114_28300,G__28115_28301));
var G__28127_28303 = new cljs.core.Keyword("endless-ships.subs","ship-modification","endless-ships.subs/ship-modification",1001473808);
var G__28128_28304 = (function (db,p__28129){
var vec__28131 = p__28129;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28131,(0),null);
var ship_name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28131,(1),null);
var modification_name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28131,(2),null);
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ship-modifications","ship-modifications",-732656460),ship_name,modification_name], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28127_28303,G__28128_28304) : re_frame.core.reg_sub.call(null,G__28127_28303,G__28128_28304));
var G__28137_28306 = new cljs.core.Keyword("endless-ships.subs","outfit","endless-ships.subs/outfit",1988390973);
var G__28138_28307 = (function (db,p__28139){
var vec__28140 = p__28139;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28140,(0),null);
var name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28140,(1),null);
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"outfits","outfits",-1347752670),endless_ships.views.utils.kebabize(name)], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28137_28306,G__28138_28307) : re_frame.core.reg_sub.call(null,G__28137_28306,G__28138_28307));
var G__28144_28308 = new cljs.core.Keyword("endless-ships.subs","outfit-installations","endless-ships.subs/outfit-installations",-390309741);
var G__28145_28309 = (function (db,p__28146){
var vec__28147 = p__28146;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28147,(0),null);
var name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28147,(1),null);
return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2(cljs.core.juxt.cljs$core$IFn$_invoke$arity$2((function (p__28150){
var map__28151 = p__28150;
var map__28151__$1 = cljs.core.__destructure_map(map__28151);
var quantity = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__28151__$1,new cljs.core.Keyword(null,"quantity","quantity",-1929050694));
return (- quantity);
}),(function (p__28152){
var map__28153 = p__28152;
var map__28153__$1 = cljs.core.__destructure_map(map__28153);
var ship_name = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__28153__$1,new cljs.core.Keyword(null,"ship-name","ship-name",-491840247));
var ship_modification = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__28153__$1,new cljs.core.Keyword(null,"ship-modification","ship-modification",501304417));
var or__4223__auto__ = ship_modification;
if(cljs.core.truth_(or__4223__auto__)){
return or__4223__auto__;
} else {
return ship_name;
}
})),cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (installations,ship){
var temp__5751__auto__ = cljs.core.first(cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__28143_SHARP_){
return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(p1__28143_SHARP_),name);
}),new cljs.core.Keyword(null,"outfits","outfits",-1347752670).cljs$core$IFn$_invoke$arity$1(ship)));
if(cljs.core.truth_(temp__5751__auto__)){
var ship_outfit = temp__5751__auto__;
return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(installations,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"ship-name","ship-name",-491840247),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(ship),new cljs.core.Keyword(null,"ship-modification","ship-modification",501304417),new cljs.core.Keyword(null,"modification","modification",614103573).cljs$core$IFn$_invoke$arity$1(ship),new cljs.core.Keyword(null,"quantity","quantity",-1929050694),new cljs.core.Keyword(null,"quantity","quantity",-1929050694).cljs$core$IFn$_invoke$arity$1(ship_outfit)], null));
} else {
return installations;
}
}),cljs.core.PersistentVector.EMPTY,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.vals(new cljs.core.Keyword(null,"ships","ships",-875113158).cljs$core$IFn$_invoke$arity$1(db)),cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(cljs.core.vals,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([cljs.core.vals(new cljs.core.Keyword(null,"ship-modifications","ship-modifications",-732656460).cljs$core$IFn$_invoke$arity$1(db))], 0)))));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28144_28308,G__28145_28309) : re_frame.core.reg_sub.call(null,G__28144_28308,G__28145_28309));
var G__28154_28312 = new cljs.core.Keyword("endless-ships.subs","outfit-planets","endless-ships.subs/outfit-planets",-2062661699);
var G__28155_28313 = (function (db,p__28156){
var vec__28157 = p__28156;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28157,(0),null);
var name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28157,(1),null);
return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"name","name",1843675177),cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashSet.EMPTY,cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.Keyword(null,"planets","planets",1711765443),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p__28161){
var map__28162 = p__28161;
var map__28162__$1 = cljs.core.__destructure_map(map__28162);
var outfits = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__28162__$1,new cljs.core.Keyword(null,"outfits","outfits",-1347752670));
return (outfits.cljs$core$IFn$_invoke$arity$1 ? outfits.cljs$core$IFn$_invoke$arity$1(name) : outfits.call(null,name));
}),new cljs.core.Keyword(null,"outfitters","outfitters",-5305870).cljs$core$IFn$_invoke$arity$1(db))], 0))));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28154_28312,G__28155_28313) : re_frame.core.reg_sub.call(null,G__28154_28312,G__28155_28313));
var G__28163_28314 = new cljs.core.Keyword("endless-ships.subs","outfits-ordering","endless-ships.subs/outfits-ordering",-1863712446);
var G__28164_28315 = (function (db,p__28166){
var vec__28167 = p__28166;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28167,(0),null);
var outfit_type = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28167,(1),null);
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),outfit_type,new cljs.core.Keyword(null,"ordering","ordering",1096406705)], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28163_28314,G__28164_28315) : re_frame.core.reg_sub.call(null,G__28163_28314,G__28164_28315));
var G__28170_28318 = new cljs.core.Keyword("endless-ships.subs","outfit-names","endless-ships.subs/outfit-names",-611389554);
var G__28171_28319 = (function (p__28173){
var vec__28174 = p__28173;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28174,(0),null);
var outfit_type = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28174,(1),null);
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (){var G__28177 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","outfits","endless-ships.subs/outfits",351986639)], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28177) : re_frame.core.subscribe.call(null,G__28177));
})(),(function (){var G__28178 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","outfits-ordering","endless-ships.subs/outfits-ordering",-1863712446),outfit_type], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28178) : re_frame.core.subscribe.call(null,G__28178));
})()], null);
});
var G__28172_28320 = (function (p__28179,p__28180){
var vec__28181 = p__28179;
var outfits = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28181,(0),null);
var ordering = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28181,(1),null);
var vec__28184 = p__28180;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28184,(0),null);
var outfit_type = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28184,(1),null);
return cljs.core.map.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"name","name",1843675177),endless_ships.subs.sort_with_settings(endless_ships.utils.outfits.columns_for(outfit_type),ordering,cljs.core.filter.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(endless_ships.utils.outfits.types,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [outfit_type,new cljs.core.Keyword(null,"filter","filter",-948537934)], null)),cljs.core.vals(outfits))));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$3 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$3(G__28170_28318,G__28171_28319,G__28172_28320) : re_frame.core.reg_sub.call(null,G__28170_28318,G__28171_28319,G__28172_28320));
var G__28187_28328 = new cljs.core.Keyword("endless-ships.subs","outfits-of-type","endless-ships.subs/outfits-of-type",-1714923566);
var G__28188_28329 = (function (p__28190){
var vec__28191 = p__28190;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28191,(0),null);
var outfit_type = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28191,(1),null);
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (){var G__28194 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","outfits","endless-ships.subs/outfits",351986639)], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28194) : re_frame.core.subscribe.call(null,G__28194));
})(),(function (){var G__28195 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("endless-ships.subs","outfits-ordering","endless-ships.subs/outfits-ordering",-1863712446),outfit_type], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__28195) : re_frame.core.subscribe.call(null,G__28195));
})()], null);
});
var G__28189_28330 = (function (p__28196,p__28197){
var vec__28198 = p__28196;
var outfits = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28198,(0),null);
var ordering = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28198,(1),null);
var vec__28201 = p__28197;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28201,(0),null);
var outfit_type = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28201,(1),null);
return endless_ships.subs.sort_with_settings(endless_ships.utils.outfits.columns_for(outfit_type),ordering,cljs.core.filter.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(endless_ships.utils.outfits.types,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [outfit_type,new cljs.core.Keyword(null,"filter","filter",-948537934)], null)),cljs.core.vals(outfits)));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$3 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$3(G__28187_28328,G__28188_28329,G__28189_28330) : re_frame.core.reg_sub.call(null,G__28187_28328,G__28188_28329,G__28189_28330));
var G__28204_28331 = new cljs.core.Keyword("endless-ships.subs","game-version","endless-ships.subs/game-version",-740841277);
var G__28205_28332 = (function (db){
return new cljs.core.Keyword(null,"version","version",425292698).cljs$core$IFn$_invoke$arity$1(db);
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28204_28331,G__28205_28332) : re_frame.core.reg_sub.call(null,G__28204_28331,G__28205_28332));
var G__28206_28333 = new cljs.core.Keyword("endless-ships.subs","gw-version","endless-ships.subs/gw-version",1312763568);
var G__28207_28334 = (function (db){
return new cljs.core.Keyword(null,"gw-version","gw-version",-1331178453).cljs$core$IFn$_invoke$arity$1(db);
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28206_28333,G__28207_28334) : re_frame.core.reg_sub.call(null,G__28206_28333,G__28207_28334));
var G__28208_28335 = new cljs.core.Keyword("endless-ships.subs","license-label","endless-ships.subs/license-label",-778348113);
var G__28209_28336 = (function (db,p__28210){
var vec__28211 = p__28210;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28211,(0),null);
var license = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28211,(1),null);
var style = cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"licenses","licenses",521774891).cljs$core$IFn$_invoke$arity$1(db),license);
return cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.label","span.label",-1921107865),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),["label-",cljs.core.str.cljs$core$IFn$_invoke$arity$1(style)].join('')], null),license], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),license], null));
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28208_28335,G__28209_28336) : re_frame.core.reg_sub.call(null,G__28208_28335,G__28209_28336));
var G__28214_28339 = new cljs.core.Keyword("endless-ships.subs","license-style","endless-ships.subs/license-style",1803280069);
var G__28215_28340 = (function (db,p__28216){
var vec__28217 = p__28216;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28217,(0),null);
var license = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28217,(1),null);
var style = cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"licenses","licenses",521774891).cljs$core$IFn$_invoke$arity$1(db),license);
return style;
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28214_28339,G__28215_28340) : re_frame.core.reg_sub.call(null,G__28214_28339,G__28215_28340));
var G__28220_28341 = new cljs.core.Keyword("endless-ships.subs","plugin","endless-ships.subs/plugin",-114933056);
var G__28221_28342 = (function (db,p__28222){
var vec__28223 = p__28222;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28223,(0),null);
var plugin_key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__28223,(1),null);
return cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"plugins","plugins",1900073717).cljs$core$IFn$_invoke$arity$1(db),plugin_key);
});
(re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$2(G__28220_28341,G__28221_28342) : re_frame.core.reg_sub.call(null,G__28220_28341,G__28221_28342));

//# sourceMappingURL=endless_ships.subs.js.map
