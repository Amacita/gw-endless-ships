{"version":3,"sources":["endless_ships/views.cljs"],"mappings":";AAUA,mCAAA,nCAAMA;AAAN,AACE,IAAAC,aAAA,AAAAC,gBAAsB,iBAAAI,WAAA,mFAAA;AAAA,AAAA,sHAAAA,8CAAAA,5JAACC,wDAAAA,kEAAAA;;YAAvB,AAAAJ,4CAAAF,WAAA,IAAA,nEAAOG;aAAP,AAAAD,4CAAAF,WAAA,IAAA,pEAAaI;AAAb,AACE,IAAAG,WAAMJ;IAANI,eAAA,EAAA,CAAAA,oBAAAC,oBAAA,AAAAD,aAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,0FACUE;;;KADV;AAAA,oOAAA,1IAESC,wCAAU,AAAA,0FAAYN;;;KAF/B;AAAA,0FAGsBM,wCAAU,AAAA,0FAAYN,QAAQ,AAAA,yGAAoBA;;;KAHxE;AAAA,0FAIYO;;;KAJZ;AAAA,0FAKWC,4CAAY,AAAA,6FAAcR;;;;AALrC,0FAAA,mDAMQ,CAAA,8DAAuBD;;;;AAEnC,iCAAA,jCAAMU;AAAN,AACE,IAAAC,aAAA,AAAAb,gBAA+B,iBAAAmB,WAAA,mFAAA;AAAA,AAAA,sHAAAA,8CAAAA,5JAACd,wDAAAA,kEAAAA;;IAAhCQ,iBAAA,AAAAC,4BAAAD;WAAA,AAAAE,4CAAAF,eAAA,lEAAcG;WAAd,AAAAD,4CAAAF,eAAA,lEAAmBI;UAAnB,AAAAF,4CAAAF,eAAA,jEAAwBK;AAAxB,AAAA,0FAAA,6mCAAA,UAAA,3iCAEG,sBAAA,mFAAA,gDAAA,2CAAA,0KAAA,wDAAA,gEAAA,4BAAA,mFAAA,gDAAA,2CAAA,qKAAA,wDAAA,gEAAA,38BAAI,GAAA,QAAA,PAAOA,mPACE,CAAA,qGAA8DA,uJAExDA,+OACN,CAAA,+FAAwDF,wJAElD,kDAAA,IAAA,tDAACI,6CAAKJ,4BACpBC;;AAEV,mCAAA,nCAAMI;AAAN,AACE,IAAAC,aAAA,AAAAtB,gBAA+B,iBAAAuB,WAAA,mFAAA;AAAA,AAAA,sHAAAA,8CAAAA,5JAAClB,wDAAAA,kEAAAA;;IAAhCiB,iBAAA,AAAAR,4BAAAQ;WAAA,AAAAP,4CAAAO,eAAA,lEAAcN;WAAd,AAAAD,4CAAAO,eAAA,lEAAmBL;UAAnB,AAAAF,4CAAAO,eAAA,jEAAwBJ;AAAxB,AAAA,0FAAA,+mCAAA,UAAA,7iCAEG,sBAAA,mFAAA,gDAAA,2CAAA,4KAAA,wDAAA,gEAAA,2BAAA,mFAAA,gDAAA,2CAAA,uKAAA,wDAAA,gEAAA,98BAAI,GAAA,QAAA,PAAOA,mPACE,CAAA,uGAAgEA,sJAE3DA,+OACL,CAAA,iGAA0DF,uJAErD,kDAAA,IAAA,tDAACI,6CAAKJ,4BACnBC;;AAEV,iCAAA,jCAAMO;AAAN,AAAA,0FAAA,gFAAA,mFAAA,0DAAA,mFAAA,uEAIK,kBAAA,AAAAxB,gBAAK,iBAAAyB,WAAA,mFAAA;AAAA,AAAA,sHAAAA,8CAAAA,5JAACpB,wDAAAA,kEAAAA;OAAN,mFAAA,0DAAA,qBAEE,kBAAA,AAAAL,gBAAK,iBAAA0B,WAAA,mFAAA;AAAA,AAAA,sHAAAA,8CAAAA,5JAACrB,wDAAAA,kEAAAA;OAAN,mFAAA,0DAAA,+BAAA,mFAAA,0DAAA,4HAAA,0HAAA,qIAAA,xSAGIgB,4HACAT,0HAGAe,qIAaA7B","names":["endless-ships.views/current-page","vec__27369","cljs.core/deref","cljs.core.nth","route","params","G__27372","re-frame.core/subscribe","G__27373","cljs.core/Keyword","endless-ships.views.ships-list/ships-list","endless-ships.views.ship-page/ship-page","endless-ships.views.outfits/outfits","endless-ships.views.outfit-page/outfit-page","endless-ships.views/gw-version","map__27374","cljs.core/--destructure-map","cljs.core.get","hash","date","tag","G__27375","cljs.core.subs","endless-ships.views/game-version","map__27376","G__27377","endless-ships.views/interface","G__27379","G__27381","endless-ships.views.navigation/navigation"],"sourcesContent":["(ns endless-ships.views\n  (:require [re-frame.core :as rf]\n            [endless-ships.subs :as subs]\n            [clojure.pprint :refer [pprint]]\n            [endless-ships.views.navigation :refer [navigation]]\n            [endless-ships.views.ships-list :refer [ships-list ships-filter]]\n            [endless-ships.views.ship-page :refer [ship-page]]\n            [endless-ships.views.outfits :refer [outfits]]\n            [endless-ships.views.outfit-page :refer [outfit-page]]))\n\n(defn current-page []\n  (let [[route params] @(rf/subscribe [::subs/route])]\n    (case route\n      :ships [ships-list]\n      :ship [ship-page (:ship/name params) nil]\n      :ship-modification [ship-page (:ship/name params) (:ship/modification params)]\n      :outfits [outfits]\n      :outfit [outfit-page (:outfit/name params)]\n      [:div (str \"Route unknown: \" route)])))\n\n(defn gw-version []\n  (let [{:keys [hash date tag]} @(rf/subscribe [::subs/gw-version])]\n    [:div.game-version\n     (if (some? tag)\n       [:a {:href (str \"https://github.com/1010todd/galactic-war/releases/tag/\" tag)\n            :target :blank}\n        \"Galactic War \" tag]\n       [:a {:href (str \"https://github.com/1010todd/galactic-war/commit/\" hash)\n            :target :blank}\n        \"galactic-war@\" (subs hash 0 7)])\n     \" (\" date \")\"]))\n\n(defn game-version []\n  (let [{:keys [hash date tag]} @(rf/subscribe [::subs/game-version])]\n    [:div.game-version\n     (if (some? tag)\n       [:a {:href (str \"https://github.com/endless-sky/endless-sky/releases/tag/\" tag)\n            :target :blank}\n        \"Endless Sky \" tag]\n       [:a {:href (str \"https://github.com/endless-sky/endless-sky/commit/\" hash)\n            :target :blank}\n        \"endless-sky@\" (subs hash 0 7)])\n     \" (\" date \")\"]))\n\n(defn interface []\n  [:div.container-fluid\n   [:div.row\n    [:div.col-lg-12\n     (if @(rf/subscribe [::subs/loading?])\n       [:div.app \"Loading...\"]\n       (if @(rf/subscribe [::subs/loading-failed?])\n         [:div.app \"Failed to load data.\"]\n         [:div.app\n          [game-version]\n          [gw-version]\n          ;[:pre \"GW Version \" (with-out-str (print @(rf/subscribe [::subs/gw-version])))]\n          ;[:pre \"Vanilla Version \" (with-out-str (print @(rf/subscribe [::subs/game-version])))]\n          [navigation]\n\n          ;[:pre (with-out-str (pprint @(rf/subscribe [::subs/license-labels])))]\n          ;[:pre (with-out-str (pprint @(rf/subscribe [::subs/ships-race-filter])))]\n          ;[:pre (with-out-str (pprint @(rf/subscribe [::subs/ships-category-filter])))]\n          ;[:pre (with-out-str (pprint @(rf/subscribe [::subs/ships-license-filter])))]\n          ;[:pre (with-out-str (pprint @(rf/subscribe [::subs/ships])))]\n          ;[:pre (with-out-str (pprint @(rf/subscribe [::subs/license-label \"Navy\"])))]\n\n          ;; Print a list of all ships that don't have a category defined.\n          ;; This is important because a ship with a null category will break the website.\n          ;[:pre (with-out-str (pprint (remove :category @(rf/subscribe [::subs/ships]))))]\n\n          [current-page]\n          ]))\n     ]]])\n"]}